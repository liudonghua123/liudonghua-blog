{"summary":"<p>之前做过一些Chrome Extension方面的开发，最近无意间看到Chrome已经不再支持NPAPI插件了（<a href=\"http://blog.chromium.org/2013/09/saying-goodbye-to-our-old-friend-npapi.html\" target=\"_blank\" rel=\"noopener\">Saying Goodbye to Our Old Friend NPAPI</a>），查看其文档，现在做Chrome的扩展开发主要就是Chrome App、Chrome Extension、Native Client三种了。</p>\n<a id=\"more\"></a>\n<p>Chrome Extension相对还算熟悉，新出现的Chrome App其实可以这样简单理解，是一种扩展的Chrome Extension，启动时不再在Chrome的工具栏（<a href=\"https://developer.chrome.com/extensions/browserAction\" target=\"_blank\" rel=\"noopener\">Browser Actions</a>）、地址栏（<a href=\"https://developer.chrome.com/extensions/pageAction\" target=\"_blank\" rel=\"noopener\">Page Actions</a>）、页面右键菜单项中添加功能，而是直接打开一个新的窗口，然后在里面运行由HTML、CSS、JavaScript的应用程序。还有一点是Manifest的版本现在是2，App是从<a href=\"https://developer.chrome.com/extensions/manifestVersion\" target=\"_blank\" rel=\"noopener\">Manifest版本</a>2才开始支持的，所以App里的<span class=\"pl-s\"><span class=\"pl-pds\">“</span>manifest_version<span class=\"pl-pds\">“必须是</span></span> <span class=\"pl-c1\">2，Extension的<span class=\"pl-pds\">“</span>manifest_version<span class=\"pl-pds\">“可以是1或2，不过官方建议使用2。</span></span></p>\n<p>另外App分为Hosted Apps和Packaged Apps，Hosted顾名思义就是应用托管到服务器上（也有crx，但crx里只有manifest文件），Packaged就是把所有资源都打包到crx中，然后下载到Chrome里安装运行。以下引用官方的解释（<a href=\"https://developer.chrome.com/webstore/apps_vs_extensions\" target=\"_blank\" rel=\"noopener\">Extensions and Apps in the Chrome Web Store</a>）。</p>\n<blockquote>\n<h2 id=\"Hosted-Apps-Packaged-Apps-and-Extensions\"><a href=\"#Hosted-Apps-Packaged-Apps-and-Extensions\" class=\"headerlink\" title=\"Hosted Apps, Packaged Apps, and Extensions\"></a>Hosted Apps, Packaged Apps, and Extensions</h2><p>There are actually two kinds of apps: hosted and packaged. A hosted app wraps an online website, so the CRX package can be as simple as a single manifest.json file pointing to the website. A packaged app contains the whole kit and kaboodle inside the CRX package—HTML, CSS, and so on, all run from the user’s hard drive.</p>\n<p>Packaged apps are a kind of missing link between extensions and hosted apps. They look the same as a hosted app to the user, but under the covers, they are really like traditional extensions with that special “launch” parameter. They have access to almost all functionality afforded to regular extensions—context menu, background pages, and so on. The only exception is that packaged apps can’t add buttons to the address bar.</p>\n<p>Returning to the example in the previous section, it’s perfectly valid for a packaged app to add an item to Google Chrome’s <a href=\"http://code.google.com/chrome/extensions/contextMenus.html\" target=\"_blank\" rel=\"noopener\">context menu</a>. However, it’s completely invalid for a hosted app to do the same thing. In some respects, a packaged app lets you have your cake and eat it: the appearance of a packaged app with the power of an extension. But there are still plenty of reasons to use pure extensions and hosted apps.<br>体验了几个Chrome App，还是非常酷炫的，如<a href=\"https://chrome.google.com/webstore/detail/anydo/ocgddccilgpeepgglnlpchkpgamkgmld\" target=\"_blank\" rel=\"noopener\">Any.do</a>、<a href=\"https://chrome.google.com/webstore/detail/mancala/cjlhjhpnhabnfepdfemepiilbjbkecpe\" target=\"_blank\" rel=\"noopener\">Mancala</a>，后面有机会开发跨平台的桌面应用（游戏）就可以用Chrome App尝试！</p>\n</blockquote>\n<p>而Native Client（还分为Portable Native Client：PNaCl和普通的Native Client：NaCl, Chrome使用的是PNaCl）则是稍微底层一点的东西，即可以使用C、C++来调用更底层的一些API，如3D Graphic、File I/O、Audio等，它是作为App和Extension可选的模块放到crx里运行的。</p>\n<blockquote>\n<p><strong>Native Client</strong> is a sandbox for running compiled C and C++ code in the browser efficiently and securely, independent of the user’s operating system. <strong>Portable Native Client</strong> extends that technology with architecture independence, letting developers compile their code once to run in any website and on any architecture with ahead-of-time (AOT) translation.</p>\n<p>In short, Native Client brings the <strong>performance</strong> and <strong>low-level control</strong> of native code to modern web browsers, without sacrificing the <strong>security</strong> and <strong>portability</strong> of the web. Watch the video below for an overview of Native Client, including its goals, how it works, and how Portable Native Client lets developers run native compiled code on the web.</p>\n</blockquote>\n<p>其实在<a href=\"http://blog.chromium.org/2013/09/saying-goodbye-to-our-old-friend-npapi.html\" target=\"_blank\" rel=\"noopener\">Saying Goodbye to Our Old Friend NPAPI</a>中他提到代替NPAPI的方式（见下面引用），只是<a href=\"http://developer.chrome.com/extensions/messaging.html#native-messaging\" target=\"_blank\" rel=\"noopener\">Native Messaging API</a>是属于Extension的，<a href=\"https://support.google.com/chrome/a/answer/3019558?hl=en\" target=\"_blank\" rel=\"noopener\">Legacy Browser Support</a>用的很少，简单阐述就是让Chrome不能处理的旧的网页调用其他浏览器（如IE）去处理。</p>\n<blockquote>\n<p>There are several alternatives to NPAPI. In cases where standard web technologies are not yet sufficient, developers and administrators can use <a href=\"https://developers.google.com/native-client/\" target=\"_blank\" rel=\"noopener\">NaCl</a>, <a href=\"http://developer.chrome.com/apps/\" target=\"_blank\" rel=\"noopener\">Apps</a>, <a href=\"http://developer.chrome.com/extensions/messaging.html#native-messaging\" target=\"_blank\" rel=\"noopener\">Native Messaging API</a>, and <a href=\"https://support.google.com/chrome/a/answer/3019558?hl=en\" target=\"_blank\" rel=\"noopener\">Legacy Browser Support</a> to transition from NPAPI. Moving forward, our goal is to evolve the standards-based web platform to cover the use cases once served by NPAPI.<br>参考资料</p>\n<ol>\n<li><a href=\"https://developer.chrome.com/apps/about_apps\" target=\"_blank\" rel=\"noopener\">Chrome App</a></li>\n<li><a href=\"https://developer.chrome.com/extensions\" target=\"_blank\" rel=\"noopener\">Chrome Extension</a></li>\n<li><a href=\"https://developer.chrome.com/native-client\" target=\"_blank\" rel=\"noopener\">Native Client</a></li>\n<li><a href=\"https://developer.chrome.com/webstore/choosing\" target=\"_blank\" rel=\"noopener\">Choosing an App Type</a></li>\n</ol>\n</blockquote>\n"}